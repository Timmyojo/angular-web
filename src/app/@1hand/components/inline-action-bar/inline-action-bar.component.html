<nav
  class="bg-gray-50 border-b border-gray-200 px-2 sm:px-4 lg:px-6 py-2 sm:py-3 text-sm"
  role="navigation"
  aria-label="Barre d'actions rapide"
>
  <div class="flex items-center justify-between gap-1 sm:gap-2 lg:gap-4">
    <!-- Slot optionnel à gauche (ex: Accueil) -->
    <div class="min-w-0 flex-shrink-0">
      <ng-content select="[start]"></ng-content>
    </div>

    <!-- Menus -->
    <div
      class="flex items-center flex-wrap gap-1 sm:gap-2 md:gap-4 lg:gap-6 overflow-x-auto overflow-y-hidden scrollbar-none"
      [class.whitespace-nowrap]="nowrap"
      style="-ms-overflow-style: none; scrollbar-width: none"
    >
      <div
        *ngFor="let item of items; trackBy: trackByAction"
        (click)="handleClick(item, $event)"
        (keydown)="handleKeydown(item, $event)"
        class="inline-flex items-center gap-1 sm:gap-2 px-1.5 sm:px-2 py-1 rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 flex-shrink-0 min-w-fit"
        [class.cursor-pointer]="!isItemDisabled(item)"
        [class.cursor-not-allowed]="isItemDisabled(item)"
        [class.pointer-events-none]="isItemDisabled(item)"
        [class.select-none]="isItemDisabled(item)"
        [ngClass]="getItemClasses(item)"
        [attr.title]="showTooltips ? item.description || item.title : null"
        [attr.aria-label]="
          item.title +
          (item.count !== undefined && item.count !== null
            ? ' (' + item.count + ')'
            : '')
        "
        [attr.aria-disabled]="isItemDisabled(item)"
        [attr.tabindex]="isItemDisabled(item) ? -1 : 0"
        role="button"
      >
        <i
          [class]="item.icon"
          [ngClass]="getIconClasses(item)"
          class="text-sm sm:text-base flex-shrink-0"
          [attr.aria-hidden]="true"
        ></i>

        <!-- Texte visible sur sm+ seulement -->
        <span
          class="font-medium text-xs sm:text-sm hidden sm:inline-block truncate max-w-[8rem] lg:max-w-none"
          [class.text-gray-300]="isItemDisabled(item)"
        >
          {{ item.title }}
        </span>

        <!-- Badge de comptage -->
        <span
          *ngIf="item.count !== undefined && item.count !== null"
          class="ml-0.5 sm:ml-1 text-xs px-1.5 py-0.5 rounded-full font-semibold text-white min-w-[1.25rem] text-center flex-shrink-0"
          [ngClass]="getBadgeClasses(item)"
          [attr.aria-label]="item.count + ' éléments'"
        >
          {{ item.count }}
        </span>
      </div>
    </div>
  </div>
</nav>
